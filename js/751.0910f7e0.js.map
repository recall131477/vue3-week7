{"version":3,"file":"js/751.0910f7e0.js","mappings":"2MACOA,MAAM,a,GACJA,MAAM,Q,GAETC,EAAAA,EAAAA,GAAiC,MAA7BD,MAAM,eAAc,QAAI,G,GAC5BC,EAAAA,EAAAA,GAA8B,SAAvBC,IAAI,UAAS,MAAE,G,GAGjBF,MAAM,oC,GAGFA,MAAM,c,aAEJA,MAAM,a,GACJA,MAAM,kC,GACLA,MAAM,c,GAETA,MAAM,a,WAIN,Q,iGApBfG,EAAAA,EAAAA,IA2BM,MA3BN,EA2BM,EA1BJF,EAAAA,EAAAA,GAyBM,MAzBN,EAyBM,EAxBJG,EAAAA,EAAAA,IAAyCC,EAAA,CAA9BC,OAAQC,EAAAA,WAAS,mBAC5BC,EACAC,GAsBI,SArBJR,EAAAA,EAAAA,GAAgE,SAAzDS,KAAK,OAAOC,GAAG,SAASX,MAAM,O,qCAAgBO,EAAAA,QAAOK,IAA5D,iBAAqDL,EAAAA,YAErDN,EAAAA,EAAAA,GAkBM,MAlBN,EAkBM,gBAhBJE,EAAAA,EAAAA,IAeMU,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IAf6BC,EAAAA,gBAAXC,K,WAAxBb,EAAAA,EAAAA,IAeM,OAfDH,MAAM,MAAyCiB,IAAKD,EAAQL,IAAjE,EACEV,EAAAA,EAAAA,GAaM,MAbN,EAaM,EAZJA,EAAAA,EAAAA,GAA2D,OAArDiB,IAAKF,EAAQG,SAAUnB,MAAM,eAAeoB,IAAI,IAAtD,WACAnB,EAAAA,EAAAA,GAUM,MAVN,EAUM,EATJA,EAAAA,EAAAA,GAEM,MAFN,EAEM,EADJA,EAAAA,EAAAA,GAA+C,KAA/C,GAA+CoB,EAAAA,EAAAA,IAArBL,EAAQM,OAAK,MAEzCrB,EAAAA,EAAAA,GAEI,IAFJ,GAEIoB,EAAAA,EAAAA,IADCL,EAAQO,aAAW,IAExBnB,EAAAA,EAAAA,IAECoB,EAAA,CAFYxB,MAAM,wBAAyByB,GAAE,YAAcT,EAAQL,MAApE,C,kBACG,IAAI,M,KADP,sBAVN,YAsBR,OACEe,OACE,MAAO,CACLC,SAAU,GACVC,QAAS,GACTC,WAAW,IAGfC,SAAU,CACRC,iBACE,MAAwB,KAAjBC,KAAKJ,QACRI,KAAKL,SACLK,KAAKL,SAASM,QAAQC,GAASA,EAAKZ,MAAMa,MAAMH,KAAKJ,aAG7DQ,OAAQ,CAAC,iBACTC,QAAS,CACPC,cACEN,KAAKH,WAAY,EACjB,MAAMU,EAAO,mEACbP,KAAKQ,MACFC,IAAIF,GACJG,MAAMC,IACLX,KAAKL,SAAWgB,EAAIjB,KAAKC,SACzBK,KAAKH,WAAY,KAElBe,OAAOC,IACNb,KAAKc,cAAcD,EAAIE,SAAU,aAIzCC,MAAO,CACLC,OAAQ,CACNC,UACElB,KAAKmB,mBAIXC,UACMpB,KAAKiB,OAAOI,MAAMzB,UACpBI,KAAKJ,QAAUI,KAAKiB,OAAOI,MAAMzB,SAEnCI,KAAKM,gB,UCnET,MAAMgB,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE","sources":["webpack://vue3-week7/./src/views/frontend/SearchView.vue","webpack://vue3-week7/./src/views/frontend/SearchView.vue?ce60"],"sourcesContent":["<template>\n  <div class=\"container\">\n    <div class=\"mt-4\">\n      <VLoading :active=\"isLoading\"></VLoading>\n      <h2 class=\"text-center\">搜尋頁面</h2>\n      <label for=\"search\">搜尋</label>\n      <input type=\"text\" id=\"search\" class=\"mb-4\" v-model=\"keyword\" />\n      <!-- row 決定內層的數量 -->\n      <div class=\"row row-cols-1 row-cols-lg-4 g-3\">\n        <!-- 內層不定義寬度 -->\n        <div class=\"col\" v-for=\"product in filterProducts\" :key=\"product.id\">\n          <div class=\"card h-100\">\n            <img :src=\"product.imageUrl\" class=\"card-img-top\" alt=\"\" />\n            <div class=\"card-body\">\n              <div class=\"d-flex justify-content-between\">\n                <h5 class=\"card-title\">{{ product.title }}</h5>\n              </div>\n              <p class=\"card-text\">\n                {{ product.description }}\n              </p>\n              <router-link class=\"btn btn-primary w-100\" :to=\"`/product/${product.id}`\"\n                >查看更多</router-link\n              >\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      products: [],\n      keyword: '',\n      isLoading: false,\n    };\n  },\n  computed: {\n    filterProducts() {\n      return this.keyword === ''\n        ? this.products\n        : this.products.filter((item) => item.title.match(this.keyword));\n    },\n  },\n  inject: ['routerRefresh'],\n  methods: {\n    getProducts() {\n      this.isLoading = true;\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/products/all`;\n      this.$http\n        .get(url)\n        .then((res) => {\n          this.products = res.data.products;\n          this.isLoading = false;\n        })\n        .catch((err) => {\n          this.$messageState(err.response, '錯誤訊息');\n        });\n    },\n  },\n  watch: {\n    $route: { // 網址變更時觸發\n      handler() {\n        this.routerRefresh();\n      },\n    },\n  },\n  mounted() {\n    if (this.$route.query.keyword) {\n      this.keyword = this.$route.query.keyword;\n    }\n    this.getProducts();\n  },\n};\n</script>\n\n<style lang=\"scss\">\n@import 'bootstrap/scss/bootstrap';\n\n.card {\n  img {\n    height: 200px;\n    object-fit: cover;\n  }\n}\n</style>\n","import { render } from \"./SearchView.vue?vue&type=template&id=b7f7bc1e\"\nimport script from \"./SearchView.vue?vue&type=script&lang=js\"\nexport * from \"./SearchView.vue?vue&type=script&lang=js\"\n\nimport \"./SearchView.vue?vue&type=style&index=0&id=b7f7bc1e&lang=scss\"\n\nimport exportComponent from \"C:\\\\Users\\\\User\\\\Desktop\\\\2022-Vue3直播班\\\\vue3-week7\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","for","_createElementBlock","_createVNode","_component_VLoading","active","$data","_hoisted_3","_hoisted_4","type","id","$event","_Fragment","_renderList","$options","product","key","src","imageUrl","alt","_toDisplayString","title","description","_component_router_link","to","data","products","keyword","isLoading","computed","filterProducts","this","filter","item","match","inject","methods","getProducts","url","$http","get","then","res","catch","err","$messageState","response","watch","$route","handler","routerRefresh","mounted","query","__exports__","render"],"sourceRoot":""}