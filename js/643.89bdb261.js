"use strict";(self["webpackChunkvue3_week7"]=self["webpackChunkvue3_week7"]||[]).push([[643],{3643:function(s,r,e){e.r(r),e.d(r,{default:function(){return I}});var l=e(6252),t=e(3577);const a={class:"container"},n=(0,l._)("div",{class:"mt-4"},[(0,l._)("h2",{class:"text-center"},"確認訂單")],-1),o={class:"row row-cols-2"},u=(0,l._)("span",null,"下單時間",-1),i={class:"row row-cols-2"},c=(0,l._)("span",null,"訂單編號",-1),d={class:"row row-cols-2"},p=(0,l._)("span",null,"姓名",-1),_={class:"row row-cols-2"},h=(0,l._)("span",null,"電話",-1),w={class:"row row-cols-2"},m=(0,l._)("span",null,"Email",-1),g={class:"row row-cols-2"},$=(0,l._)("span",null,"地址",-1),v={key:0,class:"row row-cols-2"},y=(0,l._)("span",null,"備註",-1),z={class:"row row-cols-2"},f=(0,l._)("span",null,"總計",-1),k=(0,l._)("span",null,"購買產品",-1),b=["src","alt"],x={class:"mx-4"};function O(s,r,e,O,D,S){return(0,l.wg)(),(0,l.iD)("div",a,[n,(0,l._)("div",null,[(0,l._)("ul",null,[(0,l._)("li",o,[u,(0,l._)("span",null,(0,t.zw)(s.$filters.date(D.order.create_at)),1)]),(0,l._)("li",i,[c,(0,l._)("span",null,(0,t.zw)(D.order.id),1)]),(0,l._)("li",d,[p,(0,l._)("span",null,(0,t.zw)(D.user.name),1)]),(0,l._)("li",_,[h,(0,l._)("span",null,(0,t.zw)(D.user.tel),1)]),(0,l._)("li",w,[m,(0,l._)("span",null,(0,t.zw)(D.user.email),1)]),(0,l._)("li",g,[$,(0,l._)("span",null,(0,t.zw)(D.user.address),1)]),D.order.message?((0,l.wg)(),(0,l.iD)("li",v,[y,(0,l._)("span",null,(0,t.zw)(D.order.message),1)])):(0,l.kq)("",!0),(0,l._)("li",z,[f,(0,l._)("span",null,"NT$"+(0,t.zw)(s.$filters.currency(D.order.total)),1)]),(0,l._)("li",null,[k,(0,l._)("ul",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(D.products,(r=>((0,l.wg)(),(0,l.iD)("li",{class:"d-flex align-items-center",key:r.id},[(0,l._)("div",null,[(0,l._)("img",{src:r.product.imageUrl,alt:r.title},null,8,b)]),(0,l._)("div",null,(0,t.zw)(r.product.title),1),(0,l._)("div",x,(0,t.zw)(r.qty),1),(0,l._)("div",null,"NT$"+(0,t.zw)(s.$filters.currency(r.total)),1)])))),128))])])]),(0,l._)("button",{type:"button",class:"btn btn-primary",onClick:r[0]||(r[0]=(...s)=>S.payOrder&&S.payOrder(...s))},"確認結帳")])])}var D={data(){return{order:{},orderId:"",user:{},products:{}}},methods:{getOrder(){const{id:s}=this.$route.params,r=`https://vue3-course-api.hexschool.io/v2/api/rousong/order/${s}`;this.$http.get(r).then((s=>{this.order=s.data.order,this.user=s.data.order.user,this.products=s.data.order.products})).catch((s=>{this.$messageState(s.response,"錯誤訊息")}))},payOrder(){const{id:s}=this.$route.params,r=`https://vue3-course-api.hexschool.io/v2/api/rousong/pay/${s}`,e="付款";this.$http.post(r).then((s=>{s.data.success?(this.$router.push({name:"完成購物",params:{id:this.orderId}}),this.$messageState(s,e)):this.$messageState(s.data.message,"錯誤訊息")})).catch((s=>{this.$messageState(s.response,"錯誤訊息")}))}},mounted(){this.$route.params.id&&(this.orderId=this.$route.params.id),this.getOrder()}},S=e(3744);const C=(0,S.Z)(D,[["render",O]]);var I=C}}]);
//# sourceMappingURL=643.89bdb261.js.map