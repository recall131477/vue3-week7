"use strict";(self["webpackChunkvue3_week7"]=self["webpackChunkvue3_week7"]||[]).push([[203],{5203:function(t,a,e){e.r(a),e.d(a,{default:function(){return M}});var s=e(6252);function r(t,a,e,r,o,n){const i=(0,s.up)("FrontNavbar"),l=(0,s.up)("router-view");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(i),(0,s.Wm)(l)],64)}var o=e(9963),n=e(3577);const i={class:"navbar navbar-expand-lg navbar-light bg-light"},l={class:"container-fluid mt-4 me-4"},c=(0,s.Uk)("午分之食"),u=(0,s._)("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"},[(0,s._)("span",{class:"navbar-toggler-icon"})],-1),d={class:"collapse navbar-collapse",id:"navbarNav"},v={class:"navbar-nav"},p={class:"nav-item"},g=(0,s.Uk)("關於我們"),h={class:"nav-item"},b=(0,s.Uk)("產品列表"),k={class:"nav-item"},m=(0,s.Uk)("購物車"),w={class:"nav-item"},_=(0,s.Uk)("部落格"),f={class:"nav-item"},y=(0,s.Uk)("後台管理"),U={class:"me-3"},W=(0,s._)("label",{for:"keyword"},"關鍵字搜尋",-1),N={type:"button",class:"btn btn-primary position-relative me-3"},x=(0,s.Uk)(" 我的最愛 "),C={key:0,class:"position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger"},F={type:"button",class:"btn btn-primary position-relative me-3"},P=(0,s.Uk)(" 購物車 "),S={key:0,class:"position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger"};function $(t,a,e,r,$,D){const Z=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("nav",i,[(0,s._)("div",l,[(0,s.Wm)(Z,{class:"navbar-brand",to:"/"},{default:(0,s.w5)((()=>[c])),_:1}),u,(0,s._)("div",d,[(0,s._)("ul",v,[(0,s._)("li",p,[(0,s.Wm)(Z,{class:"nav-link",to:"/about"},{default:(0,s.w5)((()=>[g])),_:1})]),(0,s._)("li",h,[(0,s.Wm)(Z,{class:"nav-link",to:"/products"},{default:(0,s.w5)((()=>[b])),_:1})]),(0,s._)("li",k,[(0,s.Wm)(Z,{class:"nav-link",to:"/cart"},{default:(0,s.w5)((()=>[m])),_:1})]),(0,s._)("li",w,[(0,s.Wm)(Z,{class:"nav-link",to:"/articles"},{default:(0,s.w5)((()=>[_])),_:1})]),(0,s._)("li",f,[(0,s.Wm)(Z,{class:"nav-link",to:"/admin/products"},{default:(0,s.w5)((()=>[y])),_:1})])])]),(0,s._)("form",{onSubmit:a[1]||(a[1]=(0,o.iM)(((...t)=>D.searchProducts&&D.searchProducts(...t)),["prevent"]))},[(0,s._)("div",U,[W,(0,s.wy)((0,s._)("input",{type:"text",id:"keyword",placeholder:"搜尋","onUpdate:modelValue":a[0]||(a[0]=t=>$.keyword=t)},null,512),[[o.nr,$.keyword]])])],32),(0,s._)("button",N,[x,$.favorite.length>0?((0,s.wg)(),(0,s.iD)("span",C,(0,n.zw)($.favorite.length),1)):(0,s.kq)("",!0)]),(0,s._)("button",F,[P,$.cart.carts.length>0?((0,s.wg)(),(0,s.iD)("span",S,(0,n.zw)($.cart.carts.length),1)):(0,s.kq)("",!0)])])])}var D=e(4902),Z={data(){return{products:[],cart:{carts:[]},favorite:[],keyword:""}},methods:{getProducts(){const t="https://vue3-course-api.hexschool.io/v2/api/rousong/products";this.$http.get(t).then((t=>{this.products=t.data.products})).catch((t=>{this.$messageState(t.response,"錯誤訊息")}))},getCart(){const t="https://vue3-course-api.hexschool.io/v2/api/rousong/cart";this.$http.get(t).then((t=>{this.cart=t.data.data})).catch((t=>{this.$messageState(t.response,"錯誤訊息")}))},getFavorite(){this.favorite=JSON.parse(localStorage.getItem("favorite"))||[]},searchProducts(){this.$router.push({path:"/search",query:{keyword:this.keyword}}),this.keyword=""}},mounted(){this.getProducts(),this.getFavorite(),D.Z.on("get-cart",(()=>{this.getCart()})),D.Z.on("get-favorite",(()=>{this.getFavorite()}))},created(){this.getCart()}},q=e(3744);const z=(0,q.Z)(Z,[["render",$]]);var H=z,I={components:{FrontNavbar:H}};const J=(0,q.Z)(I,[["render",r]]);var M=J}}]);
//# sourceMappingURL=203.45444bee.js.map