"use strict";(self["webpackChunkvue3_week7"]=self["webpackChunkvue3_week7"]||[]).push([[751],{4751:function(t,e,s){s.r(e),s.d(e,{default:function(){return b}});var r=s(6252),o=s(9963),i=s(3577);const c={class:"container"},a={class:"mt-4"},d=(0,r._)("h2",{class:"text-center"},"搜尋頁面",-1),u=(0,r._)("label",{for:"search"},"搜尋",-1),l={class:"row row-cols-1 row-cols-lg-4 g-3"},n={class:"card h-100"},h=["src"],p={class:"card-body"},w={class:"d-flex justify-content-between"},g={class:"card-title"},k={class:"card-text"},v=(0,r.Uk)("查看更多");function y(t,e,s,y,f,m){const _=(0,r.up)("VLoading"),b=(0,r.up)("router-link");return(0,r.wg)(),(0,r.iD)("div",c,[(0,r._)("div",a,[(0,r.Wm)(_,{active:f.isLoading},null,8,["active"]),d,u,(0,r.wy)((0,r._)("input",{type:"text",id:"search",class:"mb-4","onUpdate:modelValue":e[0]||(e[0]=t=>f.keyword=t)},null,512),[[o.nr,f.keyword]]),(0,r._)("div",l,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(m.filterProducts,(t=>((0,r.wg)(),(0,r.iD)("div",{class:"col",key:t.id},[(0,r._)("div",n,[(0,r._)("img",{src:t.imageUrl,class:"card-img-top",alt:""},null,8,h),(0,r._)("div",p,[(0,r._)("div",w,[(0,r._)("h5",g,(0,i.zw)(t.title),1)]),(0,r._)("p",k,(0,i.zw)(t.description),1),(0,r.Wm)(b,{class:"btn btn-primary w-100",to:`/product/${t.id}`},{default:(0,r.w5)((()=>[v])),_:2},1032,["to"])])])])))),128))])])])}var f={data(){return{products:[],keyword:"",isLoading:!1}},computed:{filterProducts(){return""===this.keyword?this.products:this.products.filter((t=>t.title.match(this.keyword)))}},inject:["routerRefresh"],methods:{getProducts(){this.isLoading=!0;const t="https://vue3-course-api.hexschool.io/v2/api/rousong/products/all";this.$http.get(t).then((t=>{this.products=t.data.products,this.isLoading=!1})).catch((t=>{this.$messageState(t.response,"錯誤訊息")}))}},watch:{$route:{handler(){this.routerRefresh()}}},mounted(){this.$route.query.keyword&&(this.keyword=this.$route.query.keyword),this.getProducts()}},m=s(3744);const _=(0,m.Z)(f,[["render",y]]);var b=_}}]);
//# sourceMappingURL=751.0910f7e0.js.map