"use strict";(self["webpackChunkvue3_week7"]=self["webpackChunkvue3_week7"]||[]).push([[202],{5202:function(a,s,t){t.r(s),t.d(s,{default:function(){return B}});var e=t(6252);const n={class:"container-fluid mt-3 position-relative"};function o(a,s,t,o,i,c){const l=(0,e.up)("BackNavbar"),r=(0,e.up)("router-view");return(0,e.wg)(),(0,e.iD)(e.HY,null,[(0,e.Wm)(l),(0,e._)("div",n,[i.checkSuccess?((0,e.wg)(),(0,e.j4)(r,{key:0})):(0,e.kq)("",!0)])],64)}const i={class:"navbar navbar-expand-lg navbar-dark bg-dark"},c={class:"container-fluid"},l=(0,e._)("h1",{class:"navbar-brand m-0"},"午分之食後台",-1),r=(0,e._)("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"},[(0,e._)("span",{class:"navbar-toggler-icon"})],-1),u={class:"collapse navbar-collapse",id:"navbarNav"},h={class:"navbar-nav"},v={class:"nav-item"},k=(0,e.Uk)("回到前台"),d={class:"nav-item"},p=(0,e.Uk)("產品列表"),m={class:"nav-item"},g=(0,e.Uk)("訂單"),b={class:"nav-item"},_=(0,e.Uk)("優惠券"),f={class:"nav-item"},$=(0,e.Uk)("貼文"),w={class:"nav-item"},S=(0,e.Uk)("登出");function x(a,s,t,n,o,x){const W=(0,e.up)("router-link");return(0,e.wg)(),(0,e.iD)("nav",i,[(0,e._)("div",c,[l,r,(0,e._)("div",u,[(0,e._)("ul",h,[(0,e._)("li",v,[(0,e.Wm)(W,{class:"nav-link",to:"/"},{default:(0,e.w5)((()=>[k])),_:1})]),(0,e._)("li",d,[(0,e.Wm)(W,{class:"nav-link",to:"/admin/products"},{default:(0,e.w5)((()=>[p])),_:1})]),(0,e._)("li",m,[(0,e.Wm)(W,{class:"nav-link",to:"/admin/order"},{default:(0,e.w5)((()=>[g])),_:1})]),(0,e._)("li",b,[(0,e.Wm)(W,{class:"nav-link",to:"/admin/coupon"},{default:(0,e.w5)((()=>[_])),_:1})]),(0,e._)("li",f,[(0,e.Wm)(W,{class:"nav-link",to:"/admin/article"},{default:(0,e.w5)((()=>[$])),_:1})]),(0,e._)("li",w,[(0,e.Wm)(W,{class:"nav-link",to:"/login",onClick:x.signOut},{default:(0,e.w5)((()=>[S])),_:1},8,["onClick"])])])])])])}var W={methods:{signOut(){const a="https://vue3-course-api.hexschool.io/v2/logout",s="登出";this.$http.post(a).then((a=>{this.$messageState(a,s),document.cookie="hexToken=;expires=;",this.$router.push("/login")})).catch((a=>{this.$messageState(a.response,"錯誤訊息")}))}}},U=t(3744);const N=(0,U.Z)(W,[["render",x]]);var C=N,T={data(){return{checkSuccess:!1}},components:{BackNavbar:C},methods:{checkLogin(){const a=document.cookie.replace(/(?:(?:^|.*;\s*)hexToken\s*=\s*([^;]*).*$)|^.*$/,"$1");if(a){this.$http.defaults.headers.common.Authorization=`${a}`;const s="https://vue3-course-api.hexschool.io/v2/api/user/check",t="登入";this.$http.post(s,{api_token:this.token}).then((a=>{this.$messageState(a,t),this.checkSuccess=!0})).catch((a=>{this.$messageState(a.response,"錯誤訊息"),this.$router.push("/login")}))}else{const a="請先登入";this.$messageState(a),this.$router.push("/login")}}},mounted(){this.checkLogin()}};const y=(0,U.Z)(T,[["render",o]]);var B=y}}]);
//# sourceMappingURL=202.473a9abe.js.map